(this["webpackJsonpwhats-new"]=this["webpackJsonpwhats-new"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(22)},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(8),r=n.n(c),s=(n(15),n(6)),o=n.n(s),l=n(9),u=n(1),h=n(2),p=n(4),m=n(3),f=n(5),d=(n(17),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"getMenuItems",value:function(e){var t=this;return e.map((function(e){return i.a.createElement("li",{key:e,className:e,onClick:t.props.clickHandler},e)}))}},{key:"render",value:function(){return i.a.createElement("nav",null,i.a.createElement("h1",{onClick:this.props.resetPage},"What's new?"),i.a.createElement("ul",{className:"menu-items"},this.getMenuItems(this.props.items)))}}]),t}(i.a.Component)),g=(n(18),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"openLink",value:function(e){window.open(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("article",{className:"news-article-card",onClick:function(){return e.openLink(e.props.url)}},i.a.createElement("img",{src:this.props.img,alt:"image"}),i.a.createElement("p",{className:"article-source"},this.props.source),i.a.createElement("h3",null,this.props.headline),i.a.createElement("p",{className:"article-description"},this.props.description))}}]),t}(i.a.Component)),v=(n(19),function(e){var t=Object.keys(e.articles).reduce((function(t,n){return t.push(e.articles[n]),t}),[]).flat();return i.a.createElement("main",null,t.map((function(e){return i.a.createElement(g,{key:Date.now()-Math.random()*Math.floor(1e4),source:e.source.name,headline:e.title,img:e.urlToImage,description:e.description,url:e.url})})))}),y=(n(20),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState({searchQuery:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var n=e.state.searchQuery;e.props.handleSubmit(n),e.setState({searchQuery:""})},e.state={searchQuery:""},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return i.a.createElement("form",{className:"search-field-container",onSubmit:this.handleSubmit},i.a.createElement("input",{type:"text",onChange:this.handleChange,value:this.state.searchQuery,placeholder:"Search by topic..."}),i.a.createElement("button",{type:"submit"},">"))}}]),t}(i.a.Component)),b=(n(21),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(m.a)(t).call(this))).changeTopic=function(t){"local"===t.target.className&&null!==e.location?e.getArticlesByTopic(e.state.location||"all"):e.getArticlesByTopic(t.target.className)},e.searchArticles=function(t){var n=e.state.articles.filter((function(e){return e.title.match(new RegExp(t,"i"))}));e.setState({articles:n})},e.resetPage=function(t){e.getArticlesByTopic()},e.state={defaultTopics:["entertainment","local","health","technology","science"],articles:[],isLoading:!1,location:null},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.getArticlesByTopic(),e.next=3,this.getCity();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getArticlesByTopic",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";this.setState({isLoading:!0}),fetch("http://newsapi.org/v2/everything?q=".concat(t,"&pageSize=100&apiKey=0c233b7671024689a5e269b225a9122e")).then((function(e){return e.json()})).then((function(t){return e.setState({articles:t.articles,isLoading:!1})}))}},{key:"getCity",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(e){t(e.coords.latitude,e.coords.longitude)}));var t=function(t,n){e.getCityFromCoordinates(t,n)}}},{key:"getCityFromCoordinates",value:function(e,t){var n=this;fetch("http://open.mapquestapi.com/geocoding/v1/reverse?key=NKOBALGUOCANiz2Y4vAhG6D8nDli2aVI&location=".concat(e,",").concat(t)).then((function(e){return e.json()})).then((function(e){return n.setState({location:e.results[0].locations[0].adminArea5})}))}},{key:"render",value:function(){return console.log(this.state.articles),this.state.isLoading?i.a.createElement("p",null,"loading"):i.a.createElement("div",{className:"app"},i.a.createElement("div",{className:"main-content-wrapper"},i.a.createElement("div",{class:"nav-wrapper"},i.a.createElement(d,{items:this.state.defaultTopics,clickHandler:this.changeTopic,resetPage:this.resetPage,location:this.state.location}),i.a.createElement(y,{handleSubmit:this.searchArticles})),i.a.createElement(v,{articles:this.state.articles})))}}]),t}(a.Component));r.a.render(i.a.createElement(b,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.2146562f.chunk.js.map