{"version":3,"sources":["components/Menu/Menu.js","components/NewsArticle/NewsArticle.js","components/NewsContainer/NewsContainer.js","components/SearchForm/SearchForm.js","components/App/App.js","index.js"],"names":["Menu","props","map","item","key","className","onClick","clickHandler","this","resetPage","getMenuItems","items","React","Component","NewsArticle","link","window","open","openLink","url","src","img","alt","source","headline","description","NewsContainer","articles","Object","keys","reduce","allArticles","articleTopic","push","flat","article","Date","now","Math","random","floor","name","title","urlToImage","SearchForm","handleChange","event","setState","searchQuery","target","value","handleSubmit","preventDefault","newQuery","state","onSubmit","type","onChange","placeholder","App","changeTopic","e","location","getArticlesByTopic","searchArticles","searchResults","filter","match","RegExp","defaultTopics","isLoading","getCity","topic","fetch","then","response","json","data","navigator","geolocation","getCurrentPosition","position","logCoords","coords","latitude","longitude","newLat","newLong","getCityFromCoordinates","lat","long","res","results","locations","adminArea5","console","log","class","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2146562f.chunk.js","sourcesContent":["import React from 'react';\nimport './Menu.css'\n\nclass Menu extends React.Component {\n\n  getMenuItems(props) {\n    return props.map(item => (\n      <li key={item}\n        className={item}\n        onClick={this.props.clickHandler}>{item}\n      </li>))\n  }\n\n  render() {\n    return <nav>\n        <h1 onClick={this.props.resetPage}>What's new?</h1>\n        <ul className=\"menu-items\">\n          {this.getMenuItems(this.props.items)}\n        </ul>\n    </nav>;\n  }\n}\n\nexport default Menu;\n","import React from 'react';\nimport './NewsArticle.css';\n\nclass NewsArticle extends React.Component {\n\n  openLink(link) {\n    window.open(link);\n  }\n\n  render() {\n    return <article className=\"news-article-card\" onClick={() => this.openLink(this.props.url)}>\n      <img src={this.props.img} alt=\"image\"/>\n      <p className=\"article-source\">{this.props.source}</p>\n      <h3>{this.props.headline}</h3>\n      <p className=\"article-description\">{this.props.description}</p>\n    </article>\n  }\n}\n\nexport default NewsArticle;\n","import React from 'react';\nimport NewsArticle from '../NewsArticle/NewsArticle';\nimport './NewsContainer.css'\n\nconst NewsContainer = (props) => {\n  const articleTopics = Object.keys(props.articles);\n\n  const articles = articleTopics.reduce(\n\n    (allArticles, articleTopic) => {\n    allArticles.push(props.articles[articleTopic]);\n\n    return allArticles;\n  }, []).flat();\n\n  return (<main>\n    {articles.map(article =>\n      <NewsArticle\n        key={(Date.now() - (Math.random() * Math.floor(10000)))}\n        source={article.source.name}\n        headline={article.title}\n        img={article.urlToImage}\n        description={article.description}\n        url={article.url}\n      />\n    )}\n  </main>)\n}\n\nexport default NewsContainer;\n","import React from 'react';\nimport './SearchForm.css';\n\nclass SearchForm extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      searchQuery: \"\"\n    }\n  }\n\n  handleChange = event => {\n    this.setState({ searchQuery: event.target.value });\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const newQuery = this.state.searchQuery;\n    this.props.handleSubmit(newQuery);\n    this.setState({searchQuery: \"\"})\n  }\n\n  render() {\n    return <form className=\"search-field-container\" onSubmit={this.handleSubmit}>\n      <input type=\"text\" onChange={this.handleChange} value={this.state.searchQuery} placeholder=\"Search by topic...\"/>\n      <button type=\"submit\">></button>\n    </form>\n  }\n}\n\nexport default SearchForm;\n","import React, { Component } from 'react';\nimport Menu from '../Menu/Menu';\nimport NewsContainer from '../NewsContainer/NewsContainer';\nimport SearchForm from '../SearchForm/SearchForm';\nimport './App.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      defaultTopics: [\"entertainment\", \"local\", \"health\", \"technology\", \"science\"],\n      articles: [],\n      isLoading: false,\n      location: null\n    }\n  }\n\n  async componentDidMount() {\n    this.getArticlesByTopic();\n    await this.getCity();\n  }\n\n  getArticlesByTopic(topic = \"all\") {\n    this.setState({ isLoading: true });\n\n    fetch(`http://newsapi.org/v2/everything?q=${topic}&pageSize=100&apiKey=0c233b7671024689a5e269b225a9122e`)\n      .then(response => response.json())\n      .then(data => this.setState({articles: data.articles, isLoading: false}))\n  }\n\n  changeTopic = (e) => {\n    if (e.target.className === 'local' && this.location !== null) {\n      this.getArticlesByTopic(this.state.location || 'all')\n    } else {\n      this.getArticlesByTopic(e.target.className);\n    }\n  }\n\n  searchArticles = (newQuery) => {\n    const searchResults = this.state.articles.filter(\n      item => {\n        return item.title.match(\n        new RegExp(newQuery, 'i')\n      )}\n  );\n    this.setState({articles: searchResults});\n  }\n\n  resetPage = (e) => {\n    this.getArticlesByTopic();\n  }\n\n  getCity() {\n    navigator.geolocation.getCurrentPosition(function(position) {\n      logCoords(position.coords.latitude, position.coords.longitude);\n    });\n\n    const logCoords = (newLat, newLong) => {\n      this.getCityFromCoordinates(newLat, newLong)\n    }\n  }\n\n  getCityFromCoordinates(lat, long) {\n    fetch(`http://open.mapquestapi.com/geocoding/v1/reverse?key=NKOBALGUOCANiz2Y4vAhG6D8nDli2aVI&location=${lat},${long}`)\n      .then(res => res.json())\n      .then(data => this.setState({location: data.results[0].locations[0].adminArea5}))\n  }\n\n  render () {\n    console.log(this.state.articles);\n    if (this.state.isLoading) {\n      return <p>loading</p>\n    } else {\n        return (\n          <div className=\"app\">\n            <div className=\"main-content-wrapper\">\n              <div class=\"nav-wrapper\">\n                <Menu\n                  items={this.state.defaultTopics}\n                  clickHandler={this.changeTopic}\n                  resetPage={this.resetPage}\n                  location={this.state.location}\n                />\n                <SearchForm handleSubmit={this.searchArticles} />\n              </div>\n              <NewsContainer articles={this.state.articles} />\n            </div>\n          </div>\n        );\n      }\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}