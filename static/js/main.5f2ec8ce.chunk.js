(this["webpackJsonpwhats-new"]=this["webpackJsonpwhats-new"]||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(7),r=n.n(c),s=(n(13),n(1)),o=n(2),l=n(4),u=n(3),h=n(5),p=(n(14),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"getMenuItems",value:function(e){var t=this;return e.map((function(e){return i.a.createElement("li",{key:e,className:e,onClick:t.props.clickHandler},e)}))}},{key:"render",value:function(){return i.a.createElement("nav",null,i.a.createElement("h1",{onClick:this.props.resetPage},"What's new?"),i.a.createElement("ul",{className:"menu-items"},this.getMenuItems(this.props.items)))}}]),t}(i.a.Component)),m=(n(15),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"openLink",value:function(e){window.open(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("article",{className:"news-article-card",onClick:function(){return e.openLink(e.props.url)}},i.a.createElement("img",{src:this.props.img,alt:this.props.headline}),i.a.createElement("p",{className:"article-source"},this.props.source),i.a.createElement("h3",null,this.props.headline),i.a.createElement("p",{className:"article-description"},this.props.description))}}]),t}(i.a.Component)),f=(n(16),function(e){return i.a.createElement("main",null,e.articles.map((function(e){return i.a.createElement(m,{key:Date.now()-Math.random()*Math.floor(1e4),source:e.source.name,headline:e.title,img:e.urlToImage,description:e.description,url:e.url})})))}),d=(n(17),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){e.setState({searchQuery:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var n=e.state.searchQuery;e.props.handleSubmit(n),e.setState({searchQuery:""})},e.state={searchQuery:""},e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("form",{className:"search-field-container",onSubmit:this.handleSubmit},i.a.createElement("input",{type:"text",onChange:this.handleChange,value:this.state.searchQuery,placeholder:"Search by topic..."}),i.a.createElement("button",{type:"submit"},">"))}}]),t}(i.a.Component));n(18);var g=function(){return i.a.createElement("div",{className:"loader-center"},i.a.createElement("i",{className:"fa fa-cog fa-spin"}))},v=(n(19),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).changeTopic=function(t){"local"===t.target.className&&null!==e.location?e.getArticlesByTopic(e.state.location||"all"):e.getArticlesByTopic(t.target.className)},e.searchArticles=function(t){var n=e.state.articles.filter((function(e){return e.title.match(new RegExp(t,"i"))}));e.setState({articles:n})},e.resetPage=function(t){e.getArticlesByTopic()},e.state={defaultTopics:["entertainment","local","health","technology","science"],articles:[],isLoading:!1,location:null},e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getArticlesByTopic(),this.getCity()}},{key:"getArticlesByTopic",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";this.setState({isLoading:!0}),fetch("https://newsapi.org/v2/everything?q=".concat(t,"&pageSize=100&apiKey=0c233b7671024689a5e269b225a9122e")).then((function(e){return e.json()})).then((function(t){return e.setState({articles:t.articles,isLoading:!1})}))}},{key:"getCity",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(e){t(e.coords.latitude,e.coords.longitude)}));var t=function(t,n){e.getCityFromCoordinates(t,n)}}},{key:"getCityFromCoordinates",value:function(e,t){var n=this;fetch("https://open.mapquestapi.com/geocoding/v1/reverse?key=NKOBALGUOCANiz2Y4vAhG6D8nDli2aVI&location=".concat(e,",").concat(t)).then((function(e){return e.json()})).then((function(e){return n.setState({location:e.results[0].locations[0].adminArea5})}))}},{key:"render",value:function(){return this.state.isLoading?i.a.createElement(g,null):i.a.createElement("div",{className:"app"},i.a.createElement("div",{className:"main-content-wrapper"},i.a.createElement("div",{className:"nav-wrapper"},i.a.createElement(p,{items:this.state.defaultTopics,clickHandler:this.changeTopic,resetPage:this.resetPage,location:this.state.location}),i.a.createElement(d,{handleSubmit:this.searchArticles})),i.a.createElement(f,{articles:this.state.articles})))}}]),t}(a.Component));r.a.render(i.a.createElement(v,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.5f2ec8ce.chunk.js.map