{"version":3,"sources":["components/Menu/Menu.js","components/NewsArticle/NewsArticle.js","components/NewsContainer/NewsContainer.js","components/SearchForm/SearchForm.js","components/LoadingAnimation/LoadingAnimation.js","components/App/App.js","index.js"],"names":["Menu","props","map","item","key","className","onClick","clickHandler","this","resetPage","getMenuItems","items","React","Component","NewsArticle","link","window","open","openLink","url","src","img","alt","headline","source","description","NewsContainer","articles","article","Date","now","Math","random","floor","name","title","urlToImage","SearchForm","handleChange","event","setState","searchQuery","target","value","handleSubmit","preventDefault","newQuery","state","onSubmit","type","onChange","placeholder","LoadingAnimation","App","changeTopic","e","location","getArticlesByTopic","searchArticles","searchResults","filter","match","RegExp","defaultTopics","isLoading","getCity","topic","fetch","then","response","json","data","navigator","geolocation","getCurrentPosition","position","logCoords","coords","latitude","longitude","newLat","newLong","getCityFromCoordinates","lat","long","res","results","locations","adminArea5","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5f2ec8ce.chunk.js","sourcesContent":["import React from 'react';\nimport './Menu.css'\n\nclass Menu extends React.Component {\n\n  getMenuItems(props) {\n    return props.map(item => (\n      <li key={item}\n        className={item}\n        onClick={this.props.clickHandler}>{item}\n      </li>))\n  }\n\n  render() {\n    return <nav>\n        <h1 onClick={this.props.resetPage}>What's new?</h1>\n        <ul className=\"menu-items\">\n          {this.getMenuItems(this.props.items)}\n        </ul>\n    </nav>;\n  }\n}\n\nexport default Menu;\n","import React from 'react';\nimport './NewsArticle.css';\n\nclass NewsArticle extends React.Component {\n\n  openLink(link) {\n    window.open(link);\n  }\n\n  render() {\n    return <article className=\"news-article-card\" onClick={() => this.openLink(this.props.url)}>\n      <img src={this.props.img} alt={this.props.headline}/>\n      <p className=\"article-source\">{this.props.source}</p>\n      <h3>{this.props.headline}</h3>\n      <p className=\"article-description\">{this.props.description}</p>\n    </article>\n  }\n}\n\nexport default NewsArticle;\n","import React from 'react';\nimport NewsArticle from '../NewsArticle/NewsArticle';\nimport './NewsContainer.css'\n\nconst NewsContainer = (props) => {\n\n  return (<main>\n    {props.articles.map(article =>\n      <NewsArticle\n        key={(Date.now() - (Math.random() * Math.floor(10000)))}\n        source={article.source.name}\n        headline={article.title}\n        img={article.urlToImage}\n        description={article.description}\n        url={article.url}\n      />\n    )}\n  </main>)\n}\n\nexport default NewsContainer;\n","import React from 'react';\nimport './SearchForm.css';\n\nclass SearchForm extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      searchQuery: \"\"\n    }\n  }\n\n  handleChange = event => {\n    this.setState({ searchQuery: event.target.value });\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const newQuery = this.state.searchQuery;\n    this.props.handleSubmit(newQuery);\n    this.setState({searchQuery: \"\"})\n  }\n\n  render() {\n    return <form className=\"search-field-container\" onSubmit={this.handleSubmit}>\n      <input type=\"text\" onChange={this.handleChange} value={this.state.searchQuery} placeholder=\"Search by topic...\"/>\n      <button type=\"submit\">></button>\n    </form>\n  }\n}\n\nexport default SearchForm;\n","import React from 'react';\nimport './LoadingAnimation.css';\n\nfunction LoadingAnimation() {\n  return (\n    <div className=\"loader-center\">\n      <i className=\"fa fa-cog fa-spin\" />\n    </div>\n  );\n}\n\nexport default LoadingAnimation;\n","import React, { Component } from 'react';\nimport Menu from '../Menu/Menu';\nimport NewsContainer from '../NewsContainer/NewsContainer';\nimport SearchForm from '../SearchForm/SearchForm';\nimport LoadingAnimation from '../LoadingAnimation/LoadingAnimation'\nimport './App.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      defaultTopics: [\"entertainment\", \"local\", \"health\", \"technology\", \"science\"],\n      articles: [],\n      isLoading: false,\n      location: null\n    }\n  }\n\n  componentDidMount() {\n    this.getArticlesByTopic();\n    this.getCity();\n  }\n\n  getArticlesByTopic(topic = \"all\") {\n    this.setState({ isLoading: true });\n\n    fetch(`https://newsapi.org/v2/everything?q=${topic}&pageSize=100&apiKey=0c233b7671024689a5e269b225a9122e`)\n      .then(response => response.json())\n      .then(data => this.setState({articles: data.articles, isLoading: false}))\n  }\n\n  changeTopic = (e) => {\n    if (e.target.className === 'local' && this.location !== null) {\n      this.getArticlesByTopic(this.state.location || 'all')\n    } else {\n      this.getArticlesByTopic(e.target.className);\n    }\n  }\n\n  searchArticles = (newQuery) => {\n    const searchResults = this.state.articles.filter(\n      item => {\n        return item.title.match(\n        new RegExp(newQuery, 'i')\n      )}\n  );\n    this.setState({articles: searchResults});\n  }\n\n  resetPage = (e) => {\n    this.getArticlesByTopic();\n  }\n\n  getCity() {\n    navigator.geolocation.getCurrentPosition(function(position) {\n      logCoords(position.coords.latitude, position.coords.longitude);\n    });\n\n    const logCoords = (newLat, newLong) => {\n      this.getCityFromCoordinates(newLat, newLong)\n    }\n  }\n\n  getCityFromCoordinates(lat, long) {\n    fetch(`https://open.mapquestapi.com/geocoding/v1/reverse?key=NKOBALGUOCANiz2Y4vAhG6D8nDli2aVI&location=${lat},${long}`)\n      .then(res => res.json())\n      .then(data => this.setState({location: data.results[0].locations[0].adminArea5}))\n  }\n\n  render () {\n    if (this.state.isLoading) {\n      return <LoadingAnimation />\n    } else {\n        return (\n          <div className=\"app\">\n            <div className=\"main-content-wrapper\">\n              <div className=\"nav-wrapper\">\n                <Menu\n                  items={this.state.defaultTopics}\n                  clickHandler={this.changeTopic}\n                  resetPage={this.resetPage}\n                  location={this.state.location}\n                />\n                <SearchForm handleSubmit={this.searchArticles} />\n              </div>\n              <NewsContainer articles={this.state.articles} />\n            </div>\n          </div>\n        );\n      }\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}