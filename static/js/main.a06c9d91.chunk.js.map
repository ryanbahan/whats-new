{"version":3,"sources":["components/Menu/Menu.js","components/NewsArticle/NewsArticle.js","components/NewsContainer/NewsContainer.js","components/SearchForm/SearchForm.js","components/SpringAnimation/SpringAnimation.js","components/App/App.js","index.js"],"names":["Menu","props","map","item","key","className","onClick","clickHandler","this","resetPage","getMenuItems","items","React","Component","NewsArticle","link","window","open","openLink","url","src","img","alt","source","headline","description","NewsContainer","articles","Object","keys","reduce","allArticles","articleTopic","push","flat","article","Date","now","Math","random","floor","name","title","urlToImage","SearchForm","handleChange","event","setState","searchQuery","target","value","handleSubmit","preventDefault","newQuery","state","onSubmit","type","onChange","placeholder","LoadingAnimation","useState","toggle","x","useSpring","from","config","duration","div","style","opacity","interpolate","range","output","transform","App","changeTopic","e","location","getArticlesByTopic","searchArticles","searchResults","filter","match","RegExp","defaultTopics","isLoading","getCity","topic","fetch","then","response","json","data","navigator","geolocation","getCurrentPosition","position","logCoords","coords","latitude","longitude","newLat","newLong","getCityFromCoordinates","lat","long","res","results","locations","adminArea5","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a06c9d91.chunk.js","sourcesContent":["import React from 'react';\nimport './Menu.css'\n\nclass Menu extends React.Component {\n\n  getMenuItems(props) {\n    return props.map(item => (\n      <li key={item}\n        className={item}\n        onClick={this.props.clickHandler}>{item}\n      </li>))\n  }\n\n  render() {\n    return <nav>\n        <h1 onClick={this.props.resetPage}>What's new?</h1>\n        <ul className=\"menu-items\">\n          {this.getMenuItems(this.props.items)}\n        </ul>\n    </nav>;\n  }\n}\n\nexport default Menu;\n","import React from 'react';\nimport './NewsArticle.css';\n\nclass NewsArticle extends React.Component {\n\n  openLink(link) {\n    window.open(link);\n  }\n\n  render() {\n    return <article className=\"news-article-card\" onClick={() => this.openLink(this.props.url)}>\n      <img src={this.props.img} alt=\"image\"/>\n      <p className=\"article-source\">{this.props.source}</p>\n      <h3>{this.props.headline}</h3>\n      <p className=\"article-description\">{this.props.description}</p>\n    </article>\n  }\n}\n\nexport default NewsArticle;\n","import React from 'react';\nimport NewsArticle from '../NewsArticle/NewsArticle';\nimport './NewsContainer.css'\n\nconst NewsContainer = (props) => {\n  const articleTopics = Object.keys(props.articles);\n\n  const articles = articleTopics.reduce(\n\n    (allArticles, articleTopic) => {\n    allArticles.push(props.articles[articleTopic]);\n\n    return allArticles;\n  }, []).flat();\n\n  return (<main>\n    {articles.map(article =>\n      <NewsArticle\n        key={(Date.now() - (Math.random() * Math.floor(10000)))}\n        source={article.source.name}\n        headline={article.title}\n        img={article.urlToImage}\n        description={article.description}\n        url={article.url}\n      />\n    )}\n  </main>)\n}\n\nexport default NewsContainer;\n","import React from 'react';\nimport './SearchForm.css';\n\nclass SearchForm extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      searchQuery: \"\"\n    }\n  }\n\n  handleChange = event => {\n    this.setState({ searchQuery: event.target.value });\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const newQuery = this.state.searchQuery;\n    this.props.handleSubmit(newQuery);\n    this.setState({searchQuery: \"\"})\n  }\n\n  render() {\n    return <form className=\"search-field-container\" onSubmit={this.handleSubmit}>\n      <input type=\"text\" onChange={this.handleChange} value={this.state.searchQuery} placeholder=\"Search by topic...\"/>\n      <button type=\"submit\">></button>\n    </form>\n  }\n}\n\nexport default SearchForm;\n","import React, { useState } from 'react'\nimport ReactDOM from 'react-dom'\nimport {useTransition, useSpring, animated} from 'react-spring'\nimport './SpringAnimation.css'\n/*\n0 % { transform: scale(1); }\n25 % { transform: scale(.97); }\n35 % { transform: scale(.9); }\n45 % { transform: scale(1.1); }\n55 % { transform: scale(.9); }\n65 % { transform: scale(1.1); }\n75 % { transform: scale(1.03); }\n100 % { transform: scale(1); }\n`*/\n\nfunction LoadingAnimation() {\n  const [state, toggle] = useState(true)\n  const { x } = useSpring({ from: { x: 0 }, x: state ? 1 : 0, config: { duration: 5000 } })\n  return (\n    <div className=\"loading-container\" onClick={() => toggle(!state)}>\n      <animated.div\n        style={{\n          opacity: x.interpolate({ range: [0, 1], output: [0.3, 1] }),\n          transform: x\n            .interpolate({\n              range: [0, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 1],\n              output: [1, 0.9, 1, 1.1, 1, 0.9, 1.03, 1]\n            })\n            .interpolate(x => `scale(${x})`)\n        }}>\n        Loading...\n      </animated.div>\n    </div>\n  )\n}\n\nexport default LoadingAnimation;\n","import React, { Component } from 'react';\nimport Menu from '../Menu/Menu';\nimport NewsContainer from '../NewsContainer/NewsContainer';\nimport SearchForm from '../SearchForm/SearchForm';\nimport LoadingAnimation from '../SpringAnimation/SpringAnimation'\nimport './App.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      defaultTopics: [\"entertainment\", \"local\", \"health\", \"technology\", \"science\"],\n      articles: [],\n      isLoading: false,\n      location: null\n    }\n  }\n\n  async componentDidMount() {\n    this.getArticlesByTopic();\n    await this.getCity();\n  }\n\n  getArticlesByTopic(topic = \"all\") {\n    this.setState({ isLoading: true });\n\n    fetch(`https://newsapi.org/v2/everything?q=${topic}&pageSize=100&apiKey=0c233b7671024689a5e269b225a9122e`)\n      .then(response => response.json())\n      .then(data => this.setState({articles: data.articles, isLoading: false}))\n  }\n\n  changeTopic = (e) => {\n    if (e.target.className === 'local' && this.location !== null) {\n      this.getArticlesByTopic(this.state.location || 'all')\n    } else {\n      this.getArticlesByTopic(e.target.className);\n    }\n  }\n\n  searchArticles = (newQuery) => {\n    const searchResults = this.state.articles.filter(\n      item => {\n        return item.title.match(\n        new RegExp(newQuery, 'i')\n      )}\n  );\n    this.setState({articles: searchResults});\n  }\n\n  resetPage = (e) => {\n    this.getArticlesByTopic();\n  }\n\n  getCity() {\n    navigator.geolocation.getCurrentPosition(function(position) {\n      logCoords(position.coords.latitude, position.coords.longitude);\n    });\n\n    const logCoords = (newLat, newLong) => {\n      this.getCityFromCoordinates(newLat, newLong)\n    }\n  }\n\n  getCityFromCoordinates(lat, long) {\n    fetch(`https://open.mapquestapi.com/geocoding/v1/reverse?key=NKOBALGUOCANiz2Y4vAhG6D8nDli2aVI&location=${lat},${long}`)\n      .then(res => res.json())\n      .then(data => this.setState({location: data.results[0].locations[0].adminArea5}))\n  }\n\n  render () {\n    if (this.state.isLoading) {\n      return <LoadingAnimation />\n    } else {\n        return (\n          <div className=\"app\">\n            <div className=\"main-content-wrapper\">\n              <div className=\"nav-wrapper\">\n                <Menu\n                  items={this.state.defaultTopics}\n                  clickHandler={this.changeTopic}\n                  resetPage={this.resetPage}\n                  location={this.state.location}\n                />\n                <SearchForm handleSubmit={this.searchArticles} />\n              </div>\n              <NewsContainer articles={this.state.articles} />\n            </div>\n          </div>\n        );\n      }\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}