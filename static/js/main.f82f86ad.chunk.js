(this["webpackJsonpwhats-new"]=this["webpackJsonpwhats-new"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){e.exports=n(26)},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(10),c=n.n(r),o=(n(18),n(7)),s=n.n(o),l=n(11),u=n(1),h=n(5),p=n(3),m=n(2),f=n(4),d=(n(20),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"getMenuItems",value:function(e){var t=this;return e.map((function(e){return i.a.createElement("li",{key:e,className:e,onClick:t.props.clickHandler},e)}))}},{key:"render",value:function(){return i.a.createElement("nav",null,i.a.createElement("h1",{onClick:this.props.resetPage},"What's new?"),i.a.createElement("ul",{className:"menu-items"},this.getMenuItems(this.props.items)))}}]),t}(i.a.Component)),g=(n(21),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"openLink",value:function(e){window.open(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("article",{className:"news-article-card",onClick:function(){return e.openLink(e.props.url)}},i.a.createElement("img",{src:this.props.img,alt:this.props.headline}),i.a.createElement("p",{className:"article-source"},this.props.source),i.a.createElement("h3",null,this.props.headline),i.a.createElement("p",{className:"article-description"},this.props.description))}}]),t}(i.a.Component)),v=(n(22),function(e){return i.a.createElement("main",null,e.articles.map((function(e){return i.a.createElement(g,{key:Date.now()-Math.random()*Math.floor(1e4),source:e.source.name,headline:e.title,img:e.urlToImage,description:e.description,url:e.url})})))}),y=(n(23),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState({searchQuery:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var n=e.state.searchQuery;e.props.handleSubmit(n),e.setState({searchQuery:""})},e.state={searchQuery:""},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return i.a.createElement("form",{className:"search-field-container",onSubmit:this.handleSubmit},i.a.createElement("input",{type:"text",onChange:this.handleChange,value:this.state.searchQuery,placeholder:"Search by topic..."}),i.a.createElement("button",{type:"submit"},">"))}}]),t}(i.a.Component)),b=n(12),j=n(8);n(24);var E=function(){var e=Object(a.useState)(!0),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(j.b)({from:{x:0},x:n?1:0,config:{duration:5e3}}).x;return i.a.createElement("div",{className:"loading-container",onClick:function(){return r(!n)}},i.a.createElement(j.a.div,{style:{opacity:c.interpolate({range:[0,1],output:[.3,1]}),transform:c.interpolate({range:[0,.25,.35,.45,.55,.65,.75,1],output:[1,.9,1,1.1,1,.9,1.03,1]}).interpolate((function(e){return"scale(".concat(e,")")}))}},"Loading..."))},O=(n(25),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(m.a)(t).call(this))).changeTopic=function(t){"local"===t.target.className&&null!==e.location?e.getArticlesByTopic(e.state.location||"all"):e.getArticlesByTopic(t.target.className)},e.searchArticles=function(t){var n=e.state.articles.filter((function(e){return e.title.match(new RegExp(t,"i"))}));e.setState({articles:n})},e.resetPage=function(t){e.getArticlesByTopic()},e.state={defaultTopics:["entertainment","local","health","technology","science"],articles:[],isLoading:!1,location:null},e}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.getArticlesByTopic(),e.next=3,this.getCity();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getArticlesByTopic",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";this.setState({isLoading:!0}),fetch("https://newsapi.org/v2/everything?q=".concat(t,"&pageSize=100&apiKey=0c233b7671024689a5e269b225a9122e")).then((function(e){return e.json()})).then((function(t){return e.setState({articles:t.articles,isLoading:!1})}))}},{key:"getCity",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(e){t(e.coords.latitude,e.coords.longitude)}));var t=function(t,n){e.getCityFromCoordinates(t,n)}}},{key:"getCityFromCoordinates",value:function(e,t){var n=this;fetch("https://open.mapquestapi.com/geocoding/v1/reverse?key=NKOBALGUOCANiz2Y4vAhG6D8nDli2aVI&location=".concat(e,",").concat(t)).then((function(e){return e.json()})).then((function(e){return n.setState({location:e.results[0].locations[0].adminArea5})}))}},{key:"render",value:function(){return this.state.isLoading?i.a.createElement(E,null):i.a.createElement("div",{className:"app"},i.a.createElement("div",{className:"main-content-wrapper"},i.a.createElement("div",{className:"nav-wrapper"},i.a.createElement(d,{items:this.state.defaultTopics,clickHandler:this.changeTopic,resetPage:this.resetPage,location:this.state.location}),i.a.createElement(y,{handleSubmit:this.searchArticles})),i.a.createElement(v,{articles:this.state.articles})))}}]),t}(a.Component));c.a.render(i.a.createElement(O,null),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.f82f86ad.chunk.js.map